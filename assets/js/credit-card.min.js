! function(e) { "use strict";
    e(function() { var r = !1;

        function i(i) { if (r) return r = !1, !0; if (e(".iugu-token").remove(), !e("#payment_method_iugu-credit-card").is(":checked")) return !0; if (e("#iugu-save-card").is(":checked")) { var u = "1" == e("#iugu-is_user_logged_in").val(); if (u || (u = "1" == e("#iugu-is_registration_required").val()), u || (u = "1" == e("#iugu-woocommerce_enable_signup_and_login_from_checkout").val()) && (u = e("#createaccount").is(":checked")), !u) return alert(e("#iugu-save-card").attr("placeholder")), !1 } var c = e(i),
                t = e("#iugu-credit-card-fields", c),
                a = e("#iugu-card-installments").val(); if (e("#customer-payment-method-id").length > 0 && "" !== e("#customer-payment-method-id").val()) a < 1 ? (e(".woocommerce-error", t).remove(), t.prepend('<div class="woocommerce-error"><ul><li>' + iugu_wc_credit_card_params.i18n_installments_field + " " + iugu_wc_credit_card_params.i18n_is_invalid + ".</li></ul></div>")) : (e(".iugu-token", c).remove(), r = !0, c.submit());
            else { var o = c.find("#iugu-card-expiry").val().replaceAll(" ", ""),
                    n = "";
                c.find("#iugu-card-expiry").val(o), Iugu.createPaymentToken(i, function(i) { a < 1 && (i.errors || (i.errors = {}), i.errors.installments = "is_invalid"), i.errors ? (e(".woocommerce-error", t).remove(), n += "<ul>", e.each(i.errors, function(e, r) { var i = r; "is_invalid" === i && (i = iugu_wc_credit_card_params.i18n_is_invalid), n += "<li>" + iugu_wc_credit_card_params["i18n_" + e + "_field"] + " " + i + ".</li>" }), n += "</ul>", t.prepend('<div class="woocommerce-error">' + n + "</div>")) : (e(".iugu-token", c).remove(), c.append(e('<input class="iugu-token" name="iugu_token" type="hidden" />').val(i.id)), r = !0, c.submit()) }) } return !1 }
        Iugu.setAccountID(iugu_wc_credit_card_params.iugu_account_id), iugu_wc_credit_card_params.is_sandbox && Iugu.setTestMode(!0), e("form.checkout").on("checkout_place_order_iugu-credit-card", function() { return i(this) }), e("form.checkout").on("change", 'input[name^="payment_method"]', function() { e("body").trigger("update_checkout") }), e("form#order_review").submit(function() { return i(this) }) }) }(jQuery);