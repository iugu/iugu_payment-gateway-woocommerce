jQuery(function(e){"use strict";var t={getSplitField:function(){var t={security:wc_iugu_params.nonce.get_split_field,action:"wc_iugu_get_split_field"};return e.ajax({type:"POST",data:t,url:wc_iugu_params.ajax_url})},checkHideShowCentsPercent:function(t){parent=e(t).parents(".wc-iugu-split");var i=e(parent).find(".product_iugu_type").val(),s=e(parent).find(".product_iugu_applied").val();parent.find(".wc-iugu-split-fieldtype-cents").removeClass("show").addClass("hide"),parent.find(".wc-iugu-split-fieldtype-percent").removeClass("show").addClass("hide"),"both"!==i?parent.find(".split-"+s+"-"+i).removeClass("hide").addClass("show"):(parent.find(".split-"+s+"-cents").removeClass("hide").addClass("show"),parent.find(".split-"+s+"-percent").removeClass("hide").addClass("show")),"payment-method"==s?"both"!==i?parent.find(".split-payment-method2-"+i).removeClass("hide").addClass("show"):(parent.find(".split-payment-method2-cents").removeClass("hide").addClass("show"),parent.find(".split-payment-method2-percent").removeClass("hide").addClass("show")):"installments"==s&&("both"!==i?parent.find(".split-payment-method-"+i).removeClass("hide").addClass("show"):(parent.find(".split-payment-method-cents").removeClass("hide").addClass("show"),parent.find(".split-payment-method-percent").removeClass("hide").addClass("show")))},init:function(){e("#iugu_woocommerce_options").on("click",".wc-iugu-add-split",function(){var i=e(".wc-iugu-splits .wc-iugu-split").length;return e.when(t.getSplitField()).then(function(t){t=(t=t.html).replace(/{loop}/g,i),e(".wc-iugu-splits").append(t)}),!1}).on("click",".wc-iugu-remove-split",function(){if(confirm(wc_iugu_params.i18n.confirm_remove_split)){var t=e(this).closest(".wc-iugu-split");e(t).find("input").val(""),e(t).remove(),e(".wc-iugu-splits .wc-iugu-split").each(function(t,i){var s=t;e(this).find(".product_split_position").val(s),e(this).find("select, input, textarea").prop("name",function(e,t){return t.replace(/\[[0-9]+\]/g,"["+s+"]")})})}return!1}).on("change",".product_iugu_type",function(){t.checkHideShowCentsPercent(this)}).on("change",".iugu_payable_with",function(){var t=e(this).val();switch(console.log(t),parent=e(this).parents(".wc-iugu-payment-options"),t){case"all":case"iugu-credit-card":parent.find(".iugu_number_installments").removeClass("hide").addClass("show");break;default:parent.find(".iugu_number_installments").removeClass("show").addClass("hide")}}).on("change",".product_iugu_applied",function(){t.checkHideShowCentsPercent(this)})}};t.init()});